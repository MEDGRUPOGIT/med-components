import{__awaiter,__generator,__spreadArray}from"tslib";import{r as registerInstance,e as createEvent,h,H as Host,i as getElement}from"./index-70672e81.js";import{g as generateMedColor}from"./color-49be71bc.js";import{c as createAnimation}from"./animation-096c6391.js";import"./helpers-dd7e4b7b.js";var medAccordionItemCss=":host{--background-header:linear-gradient(to right, hsl(var(--med-color-brand-1)), hsl(var(--med-color-neutral-2)), hsl(var(--med-color-neutral-2)));--background-content:hsl(var(--med-color-neutral-2));--icon-color:hsl(var(--med-color-neutral-10));--border-radius:8px;--padding:16px;--icon-font-size:24px;--align-items:initial}:host(.med-accordion-item){display:block;border-radius:var(--border-radius)}:host(.med-accordion-item) .med-accordion-item__header-container{width:100%;cursor:pointer;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:var(--align-items);align-items:var(--align-items)}:host(.med-accordion-item) .med-accordion-item__header{-webkit-box-sizing:border-box;box-sizing:border-box;padding:var(--padding);background:var(--background-header);border-radius:var(--border-radius);position:relative;width:100%;-webkit-transition:background 0.5s linear;transition:background 0.5s linear;background-size:200% 100%;background-position:100% 0}:host(.med-accordion-item) .med-accordion-item__heading{width:100%}:host(.med-accordion-item) .med-accordion-item__icon-container{display:-ms-flexbox;display:flex}:host(.med-accordion-item) .med-accordion-item__icon-container--left{padding-right:8px}:host(.med-accordion-item) .med-accordion-item__icon-container--right{padding-left:8px;margin-left:auto}:host(.med-accordion-item) .med-accordion-item__content{display:none;overflow:auto;background:var(--background-content);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);z-index:0}:host(.med-accordion-item) .header-container__end{margin-left:auto}:host(.med-accordion-item) .header-container__middle{width:var(--middle-width)}:host(.med-accordion-item--no-border){--border-radius:0}:host(.med-accordion-item--keep-border) .med-accordion-item__header{border-bottom-left-radius:8px !important;border-bottom-right-radius:8px !important}::slotted(ion-progress-bar){position:absolute;left:0;bottom:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}:host(.med-accordion-item--open.med-accordion-item--background) .med-accordion-item__header{background-position:0 0}:host(.med-accordion-item--open) ::slotted(ion-progress-bar){border-bottom-left-radius:0;border-bottom-right-radius:0}:host(.med-color.med-accordion-item--background){--background-header:linear-gradient(to right, hsl(var(--med-color-1)), hsl(var(--med-color-neutral-2)), hsl(var(--med-color-neutral-2)))}";var MedAccordionItem=function(){function e(e){var t=this;registerInstance(this,e);this.toggle=createEvent(this,"toggle",7);this.opened=createEvent(this,"opened",7);this.medClick=createEvent(this,"medClick",7);this.noBorder=false;this.background=false;this.canCollapse=true;this.isOpened=false;this.slotsToggle=[];this.isOpen=false;this.isTransitioning=false;this.onClick=function(e){if(!t.canCollapse){return}if(!t.slotsToggle.length||t.slotsToggle.indexOf(e)>=0){t.toggleOpen()}}}e.prototype.watchPropHandler=function(e){this.toggleOpen()};e.prototype.componentDidLoad=function(){if(this.isOpened){this.toggleOpen()}};e.prototype.toggleOpen=function(){var e=this;if(this.isTransitioning){return}this.isOpen=!this.isOpen;this.opened.emit(this.isOpen);this.isTransitioning=true;this.toggle.emit({element:this.hostElement,content:this.content,header:this.header,shouldOpen:this.isOpen,startTransition:function(){e.isTransitioning=true},endTransition:function(){e.isTransitioning=false},setClosed:function(){e.isOpen=false;e.opened.emit(e.isOpen)}})};e.prototype.onHeaderClick=function(){this.medClick.emit()};e.prototype.render=function(){var e=this;var t=this,o=t.dsColor,r=t.noBorder,i=t.isOpen,n=t.background;return h(Host,{"from-stencil":true,class:generateMedColor(o,{"med-accordion-item":true,"med-accordion-item--no-border":r,"med-accordion-item--open":i,"med-accordion-item--background":n})},h("div",{class:"med-accordion-item__header",onClick:function(){return e.onHeaderClick()},ref:function(t){return e.header=t}},h("div",{class:"med-accordion-item__header-container"},h("div",{class:"header-container__start",onClick:function(){return e.onClick("start")}},h("slot",{name:"start"})),h("div",{class:"header-container__middle",onClick:function(){return e.onClick("middle")}},h("slot",{name:"middle"})),h("div",{class:"header-container__end",onClick:function(){return e.onClick("end")}},h("slot",{name:"end"}))),h("div",null,h("slot",{name:"auxiliar"})),h("div",{onClick:function(){return e.onClick("middle")}},h("slot",{name:"full-header"}))),h("div",{class:"med-accordion-item__content",ref:function(t){return e.content=t}},h("slot",{name:"content"})))};Object.defineProperty(e.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{isOpened:["watchPropHandler"]}},enumerable:false,configurable:true});return e}();MedAccordionItem.style=medAccordionItemCss;var medAccordionListCss=":host{--background:hsl(var(--med-color-neutral-1));--border:8px solid hsl(var(--med-color-neutral-1));--border-radius:8px}:host(.med-accordion-list){display:block}:host(.med-accordion-list) .med-accordion-list__blocker{background-color:var(--background);will-change:transform;border-radius:var(--border-radius)}:host(.med-accordion-list) ::slotted(med-accordion-item){border-bottom:var(--border)}:host(.med-accordion-list) ::slotted(med-accordion-item:last-child){border-bottom:none !important}:host(.med-accordion-list--xs) ::slotted(med-accordion-item){--border:4px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--sm) ::slotted(med-accordion-item){--border:8px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--md) ::slotted(med-accordion-item){--border:16px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--lg) ::slotted(med-accordion-item){--border:24px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--no-border) .med-accordion-list__blocker{--border-radius:0}";var Accordion=function(){function e(e){registerInstance(this,e);this.singleOpen=true;this.noBorder=false;this.noAnimation=false;this.currentlyOpen=null}e.prototype.handleToggle=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(o){switch(o.label){case 0:if(!e.detail.shouldOpen)return[3,2];return[4,this.animateOpen(e)];case 1:t=o.sent();return[3,4];case 2:return[4,this.animateClose(e)];case 3:t=o.sent();o.label=4;case 4:t;e.detail.endTransition();return[2]}}))}))};e.prototype.closeOpenItem=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:if(!(this.currentlyOpen!==null))return[3,2];e=this.currentlyOpen.detail;e.startTransition();return[4,this.animateClose(this.currentlyOpen)];case 1:t.sent();e.endTransition();e.setClosed();t.label=2;case 2:return[2]}}))}))};e.prototype.getElementsToShift=function(e){var t=Array.from(this.hostElement.children);var o=0;t.forEach((function(t,r){if(t===e){o=r}}));return __spreadArray([],t).splice(o+1,t.length-(o+1))};e.prototype.createOpenAnimation=function(e,t,o){var r=this.noAnimation?0:300;var i={transform:"translateY(-"+t+"px)",position:"relative","z-index":"1"};var n={transform:"none","z-index":null};if(o){i["height"]=t+"px";n["height"]="0px"}var a=createAnimation().addElement(e).delay(20).beforeStyles(i).afterClearStyles(["position","z-index"]).afterStyles(n).to("transform","translateY(0)").duration(r).easing("cubic-bezier(0.32,0.72,0,1)");return a};e.prototype.animateOpen=function(e){return __awaiter(this,void 0,void 0,(function(){var t,o,r,i;return __generator(this,(function(n){switch(n.label){case 0:if(!this.singleOpen)return[3,2];return[4,this.closeOpenItem()];case 1:n.sent();n.label=2;case 2:this.currentlyOpen=e;t=this.getElementsToShift(e.detail.element);e.detail.content.style.display="block";e.detail.header.style.borderBottomLeftRadius="0";e.detail.header.style.borderBottomRightRadius="0";o=e.detail.content.clientHeight;r=this.createOpenAnimation(t,o,false);i=this.createOpenAnimation(this.blocker,o,true);return[4,Promise.all([r.play(),i.play()])];case 3:n.sent();r.destroy();i.destroy();return[2]}}))}))};e.prototype.createCloseAnimation=function(e,t){var o=this.noAnimation?0:300;return createAnimation().addElement(e).afterStyles({transform:"none",zIndex:"0"}).to("transform","translateY(-"+t+"px)").duration(o).easing("cubic-bezier(0.32,0.72,0,1)")};e.prototype.animateClose=function(e){return __awaiter(this,void 0,void 0,(function(){var t,o,r,i,n;return __generator(this,(function(a){switch(a.label){case 0:t=this.getElementsToShift(e.detail.element);e.detail.header.style="";e.detail.element.style.overflow="hidden";e.detail.header.style.zIndex="1";this.currentlyOpen=null;o=e.detail.content.clientHeight;r=this.createCloseAnimation(t,o);i=this.createCloseAnimation(this.blocker,o);n=this.createCloseAnimation(e.detail.content,o);return[4,Promise.all([r.play(),i.play(),n.play()])];case 1:a.sent();e.detail.element.style.overflow="initial";e.detail.header.style.zIndex="initial";e.detail.content.style.display="none";r.destroy();i.destroy();n.destroy();return[2]}}))}))};e.prototype.render=function(){var e;var t=this;var o=this,r=o.noBorder,i=o.margin;return h(Host,{"from-stencil":true,class:generateMedColor(null,(e={"med-accordion-list":true,"med-accordion-list--no-border":r},e["med-accordion-list--"+i]=i!==undefined,e))},h("slot",null),h("div",{class:"med-accordion-list__blocker",ref:function(e){return t.blocker=e}}))};Object.defineProperty(e.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();Accordion.style=medAccordionListCss;export{MedAccordionItem as med_accordion_item,Accordion as med_accordion_list};