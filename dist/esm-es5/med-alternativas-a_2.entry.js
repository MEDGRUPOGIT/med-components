import{__spreadArray}from"tslib";import{r as registerInstance,e as createEvent,h,H as Host,i as getElement}from"./index-70672e81.js";import{g as generateMedColor}from"./color-a516669b.js";function distanciaEuclidiana(a,e){if(!a||!e)return NaN;var t=a.x-e.x;var r=a.y-e.y;return Math.sqrt(t*t+r*r)}function getPositionFromEvent(a){if(a.touches&&a.touches.length>0){return{x:a.touches[0].screenX,y:a.touches[0].screenY}}else if(a.changedTouches&&a.changedTouches.length>0){return{x:a.changedTouches[0].screenX,y:a.changedTouches[0].screenY}}else if(a.screenX&&a.screenY){return{x:a.screenX,y:a.screenY}}else{return undefined}}var MedAlternativasBase=function(){function a(a){this.parent=a;this.distanciaMinimaClick=50;this.tempoLongPress=1e3}a.prototype.resetState=function(){this.parent.riscarAtivoIndice=-1;this.parent.permiteAlterar=true};a.prototype.handleClick=function(a){if(!a.target.classList.contains("med-alternativas")&&a.target.tagName!=="MED-ALTERNATIVAS"){this.resetState()}};a.prototype.onAlternativasChanged=function(a,e){if(a!=e){this.resetState()}};a.prototype.onTouchStart=function(a,e){var t=this;var r;if((r=a.target.closest(".med-alternativas__riscar"))===null||r===void 0?void 0:r.classList.contains("med-alternativas__riscar")){return}this.dataStart=new Date;this.positionStart=getPositionFromEvent(a);this.timer=setTimeout((function(){t.dataEnd=new Date;var a=t.dataEnd.getTime()-t.dataStart.getTime();if(a>=t.tempoLongPress){t.parent.riscarAtivoIndice=e;t.parent.permiteAlterar=false}}),this.tempoLongPress)};a.prototype.onTouchEnd=function(a,e){var t;if((t=a.target.closest(".med-alternativas__riscar"))===null||t===void 0?void 0:t.classList.contains("med-alternativas__riscar")){return}var r=getPositionFromEvent(a);clearTimeout(this.timer);if(this.parent.permiteAlterar&&distanciaEuclidiana(this.positionStart,r)<this.distanciaMinimaClick){this.parent.riscarAtivoIndice=-1;this.alterarAlternativa(e)}this.parent.permiteAlterar=true};a.prototype.alterarAlternativa=function(a){var e;var t=a;if(t.Riscada&&this.parent.permiteRiscar){return}this.parent.alternativaSelecionada=t.Alternativa;(e=this.parent.medChange)===null||e===void 0?void 0:e.emit(t)};a.prototype.riscar=function(a,e){var t;a.stopPropagation();e[this.parent.keyRiscada]=!e[this.parent.keyRiscada];this.parent.riscarAtivoIndice=-1;(t=this.parent.medRiscada)===null||t===void 0?void 0:t.emit(e);this.parent.permiteAlterar=true;this.parent.alternativas=__spreadArray([],this.parent.alternativas)};a.prototype.imageRequest=function(a,e){var t;a.stopPropagation();(t=this.parent.medGalleryRequest)===null||t===void 0?void 0:t.emit(e)};return a}();var medAlternativasACss=':host(.med-alternativas) .med-alternativas__container{display:-ms-flexbox;display:flex}:host(.med-alternativas) .med-alternativas__item{cursor:pointer;position:relative;-webkit-transition:background-color 300ms;transition:background-color 300ms;min-height:80px}:host(.med-alternativas) .option{background:hsl(var(--med-color-neutral-8));padding:8px;border-radius:8px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;cursor:pointer}:host(.med-alternativas) .option__letter{font-size:16px;font-weight:500;line-height:100%;color:hsl(var(--med-color-neutral-1))}:host(.med-alternativas) .option__fake{height:16px;width:16px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:#fff;border-radius:50%;margin:0 4px 0 0;position:relative}.option__fake:before{content:"";display:inline-block;width:8px;height:8px;background:hsl(var(--med-color-brand-3));opacity:0;-webkit-transition:opacity 300ms;transition:opacity 300ms;border-radius:50%}:host(.med-alternativas) .med-alternativas__left{padding:16px 16px 6px 16px}:host(.med-alternativas) .med-alternativas__right{-ms-flex:1 1 0%;flex:1 1 0%;overflow:hidden;text-align:left;padding:16px 16px 6px 16px;font-size:var(--font-size);font-weight:400;line-height:line-height(16px);text-align:justify;color:hsl(var(--med-color-neutral-9));cursor:pointer}:host(.med-alternativas) .med-alternativas__wrapper{min-height:80px}:host(.med-alternativas) .med-alternativas__progress-bar{--height:10px;-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;-webkit-transform:translateX(-120%);transform:translateX(-120%)}:host(.med-alternativas) .med-alternativas__riscar-icon{stroke:hsl(var(--med-color-neutral-10));--ionicon-stroke-width:1px}@media (min-width: 768px){:host(.med-alternativas) .med-alternativas__list--has-image{display:grid;grid-template-columns:1fr 1fr;gap:16px}}:host(.med-alternativas) .med-alternativas__list--has-image .med-alternativas__riscar{position:absolute;top:10px;right:10px;height:auto;z-index:1;background:#000;padding:8px;border-radius:5px;opacity:0.5}:host(.med-alternativas) .image-container__image{max-width:360px;width:100%;height:auto;display:block}:host(.med-alternativas) .med-alternativas__progress-bar--toggle{opacity:1;-webkit-transform:translateX(0);transform:translateX(0);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host(.med-alternativas) .med-alternativas__item--selecionada .option{background:hsl(var(--med-color-brand-3))}:host(.med-alternativas) .med-alternativas__item--certa .option{background:hsl(var(--med-color-fb-success))}:host(.med-alternativas) .med-alternativas__item--correta .option{background:hsl(var(--med-color-fb-success))}:host(.med-alternativas) .med-alternativas__item--incorreta .option{background:hsl(var(--med-color-fb-warning))}:host(.med-alternativas) .med-alternativas__item--selecionada .option__fake:before,:host(.med-alternativas) .med-alternativas__item--correta .option__fake:before,:host(.med-alternativas) .med-alternativas__item--incorreta .option__fake:before{opacity:1}:host(.med-alternativas) .med-alternativas__item--certa .option__fake:before{opacity:0}:host(.med-alternativas) .med-alternativas__item--show{background:hsl(var(--med-color-neutral-2))}:host(.med-alternativas) .med-alternativas__riscar{color:hsl(var(--med-color-neutral-10));padding:0 16px;font-size:14px;font-weight:400;line-height:100%;display:-ms-flexbox;display:flex;height:100%;visibility:hidden;opacity:0;pointer-events:none;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;right:0px;top:0px;background:hsl(var(--med-color-neutral-2));-webkit-transition:opacity 300ms;transition:opacity 300ms}:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__left,:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__right,:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__progress-bar{opacity:0.5}:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__right{text-decoration:line-through}:host(.med-alternativas) .med-alternativas__riscar--show{visibility:visible;opacity:1;pointer-events:all}:host(.med-alternativas) .med-alternativas__riscar-span{display:-ms-flexbox;display:flex}:host(.med-alternativas) .med-alternativas__riscar-desktop{display:none;padding-left:4px}@media (min-width: 768px){:host(.med-alternativas) .med-alternativas__riscar-desktop{display:-ms-flexbox;display:flex}}@media (min-width: 768px){:host(.med-alternativas) .image-container__button{display:none}}@media (any-hover: hover) and (pointer: fine){:host(.med-alternativas) .med-alternativas__item--permite-riscar:hover{background:hsl(var(--med-color-neutral-2))}:host(.med-alternativas) .med-alternativas__item--permite-riscar:hover .med-alternativas__riscar{visibility:visible;opacity:1;pointer-events:all}}';var MedAlternativasA=function(){function a(a){registerInstance(this,a);this.medChange=createEvent(this,"medChange",7);this.medRiscada=createEvent(this,"medRiscada",7);this.medGalleryRequest=createEvent(this,"medGalleryRequest",7);this.alternativas=[];this.keyAlternativa="Alternativa";this.keyEnunciado="Enunciado";this.keyImagem="Imagem";this.keyPorcentagem="Porcentagem";this.keyRiscada="Riscada";this.permiteRiscar=true;this.permiteAlterar=true;this.riscarAtivoIndice=-1;this.baseClass=new MedAlternativasBase(this)}a.prototype.handleClick=function(a){this.baseClass.handleClick(a)};a.prototype.onAlternativasChanged=function(a,e){this.baseClass.onAlternativasChanged(a,e)};a.prototype.render=function(){var a=this;var e=this,t=e.dsColor,r=e.permiteRiscar,i=e.mostraResposta,s=e.alternativaSelecionada;var n=this.alternativaSelecionada&&i;var o=false;if(this.alternativas){this.alternativas.forEach((function(a){if(a.Imagem)o=true}))}return h(Host,{"from-stencil":true,class:generateMedColor(t,{"med-alternativas":true})},h("div",{class:"\n           med-alternativas__list\n           "+(o?"med-alternativas__list--has-image":"")+"\n           ",role:"list"},this.alternativas.map((function(e,t){return h("div",{role:"listitem",onTouchStart:function(e){return a.baseClass.onTouchStart(e,t)},onTouchEnd:function(t){return a.baseClass.onTouchEnd(t,e)},onMouseDown:function(e){return a.baseClass.onTouchStart(e,t)},onMouseUp:function(t){return a.baseClass.onTouchEnd(t,e)},class:"\n                med-alternativas__item med-alternativas__item--"+e[a.keyAlternativa]+"\n                "+(r?"med-alternativas__item--permite-riscar":"")+"\n                "+(t===a.riscarAtivoIndice&&r?"med-alternativas__item--show":"")+"\n                "+(e[a.keyRiscada]&&r?"med-alternativas__item--riscado":"")+"\n                "+(n&&e[a.keyAlternativa]===a.respostaCorreta&&a.respostaCorreta===a.alternativaSelecionada?"med-alternativas__item--correta":"")+"\n                "+(n&&e[a.keyAlternativa]===a.respostaCorreta&&a.respostaCorreta!==a.alternativaSelecionada?"med-alternativas__item--certa":"")+"\n                "+(n&&e[a.keyAlternativa]!==a.respostaCorreta&&e[a.keyAlternativa]===a.alternativaSelecionada?"med-alternativas__item--incorreta":"")+"\n                "+(!n&&e[a.keyAlternativa]===a.alternativaSelecionada?"med-alternativas__item--selecionada":"")+"\n              "},h("div",{class:"med-alternativas__wrapper"},h("div",{class:"med-alternativas__container"},h("div",{class:"med-alternativas__left"},h("div",{class:"option"},h("span",{class:"option__fake"}),h("span",{class:"option__letter"},e[a.keyAlternativa]))),h("div",{class:"med-alternativas__right"},h("span",{class:"med-alternativas__span",innerHTML:e[a.keyEnunciado]}),e[a.keyImagem]&&h("div",{class:"image-container "+(e[a.keyEnunciado]?"image-container--margin":""),onClick:function(t){return a.baseClass.imageRequest(t,e)}},h("div",{class:"image-container__wrapper"},h("img",{class:"image-container__image",src:e[a.keyImagem]}))),h("med-chart-bar-horizontal",{label:true,class:"\n                      med-alternativas__progress-bar\n                      "+(i&&s?"med-alternativas__progress-bar--toggle":"")+"\n                    ",value:Math.round(e[a.keyPorcentagem]*100)})),h("div",{class:"med-alternativas__riscar "+(t===a.riscarAtivoIndice&&r?"med-alternativas__riscar--show":""),onClick:function(t){a.baseClass.riscar(t,e)}},h("ion-icon",{class:"med-alternativas__riscar-icon med-icon",name:"med-riscar"}),h("div",{class:"med-alternativas__riscar-span"},e[a.keyRiscada]?"Restaurar ":"Riscar ",h("span",{class:"med-alternativas__riscar-desktop"}," alternativa"))))))}))))};Object.defineProperty(a.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(a,"watchers",{get:function(){return{alternativas:["onAlternativasChanged"]}},enumerable:false,configurable:true});return a}();MedAlternativasA.style=medAlternativasACss;var medAlternativasBCss=":host{--background:hsl(var(--med-color-brand-1));--background-selecionada:hsl(var(--med-color-brand-1));--font-size:14px;--color-alternativa:hsl(var(--med-color-brand-3))}:host(.med-alternativas){display:block}:host(.med-alternativas) .med-alternativas__container{position:relative;display:-ms-flexbox;display:flex}:host(.med-alternativas) .med-alternativas__wrapper{min-height:68px;background:hsl(var(--med-color-neutral-2));border-radius:8px;cursor:pointer;overflow:hidden;position:relative}:host(.med-alternativas) .med-alternativas__left{background:var(--background);min-width:40px;text-align:center;padding-top:16px;font-size:24px;line-height:20px;font-weight:500;color:var(--color-alternativa);border-top-left-radius:8px;border-bottom-left-radius:8px}:host(.med-alternativas) .med-alternativas__right{-ms-flex:1;flex:1;text-align:left;overflow:hidden;padding:16px;font-size:var(--font-size);line-height:line-height(14px);font-weight:400;color:hsl(var(--med-color-neutral-10));border-top-right-radius:8px;border-bottom-right-radius:8px}:host(.med-alternativas) .med-alternativas__wrapper{min-height:unset}:host(.med-alternativas) .med-alternativas__progress-bar{--background:hsl(var(--med-color-neutral-2));--height:10px;margin-top:8px;margin-bottom:16px;-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}:host(.med-alternativas) .image-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}:host(.med-alternativas) .image-container--margin{margin-top:16px}:host(.med-alternativas) .image-container__wrapper{position:relative;display:-ms-flexbox;display:flex}:host(.med-alternativas) .image-container__image{width:auto;max-height:100px;display:block;display:inline-block}:host(.med-alternativas) .image-container__button{width:24px;height:24px;display:-ms-flexbox;display:flex;background:hsl(var(--med-color-brand-1));position:absolute;bottom:4px;right:4px;pointer-events:none;border-radius:50%;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host(.med-alternativas) .image-container__icon{stroke:hsl(var(--med-color-neutral-10));pointer-events:none;font-size:16px}:host(.med-alternativas) .med-alternativas__progress-bar--toggle{opacity:1;-webkit-transform:translateX(0);transform:translateX(0);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host(.med-alternativas) .med-alternativas__item--selecionada .med-alternativas__wrapper{background:hsl(var(--med-color-brand-1))}:host(.med-alternativas) .med-alternativas__item--certa{--background:hsl(var(--med-color-fb-success))}:host(.med-alternativas) .med-alternativas__item--certa .med-alternativas__left{color:hsl(var(--med-color-neutral-1));font-weight:500}:host(.med-alternativas) .med-alternativas__item--correta{--background:hsl(var(--med-color-fb-success))}:host(.med-alternativas) .med-alternativas__item--correta .med-alternativas__wrapper{background:hsl(var(--med-color-fb-success))}:host(.med-alternativas) .med-alternativas__item--correta .med-alternativas__left,:host(.med-alternativas) .med-alternativas__item--correta .med-alternativas__right{color:hsl(var(--med-color-neutral-1));font-weight:500}:host(.med-alternativas) .med-alternativas__item--incorreta{--background:hsl(var(--med-color-fb-warning))}:host(.med-alternativas) .med-alternativas__item--incorreta .med-alternativas__wrapper{background:hsl(var(--med-color-fb-warning))}:host(.med-alternativas) .med-alternativas__item--incorreta .med-alternativas__left,:host(.med-alternativas) .med-alternativas__item--incorreta .med-alternativas__right{color:hsl(var(--med-color-neutral-1));font-weight:500}:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__left,:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__right{opacity:0.5}:host(.med-alternativas) .med-alternativas__item--riscado .med-alternativas__right{text-decoration:line-through}:host(.med-alternativas) .med-alternativas__riscar{background-color:hsl(var(--med-color-fb-attention));color:hsl(var(--med-color-neutral-1));padding:0 16px;border-top-right-radius:8px;border-bottom-right-radius:8px;font-size:14px;font-weight:500;line-height:100%;position:absolute;top:0;right:0;width:85px;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateX(120px);transform:translateX(120px);-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms}:host(.med-alternativas) .med-alternativas__riscar--show{-webkit-transform:translateX(0);transform:translateX(0)}@media (any-hover: hover) and (pointer: fine){:host(.med-alternativas) .med-alternativas__item--permite-riscar .med-alternativas__wrapper:hover .med-alternativas__riscar{-webkit-transform:translateX(0);transform:translateX(0)}}:host(.med-color){--background:hsl(var(--med-color-1));--background-selecionada:hsl(var(--med-color-1));--color-alternativa:hsl(var(--med-color-3))}:host(.med-color) .med-alternativas__progress-bar{--progress-background:hsl(var(--med-color-4))}";var MedAlternativasB=function(){function a(a){registerInstance(this,a);this.medChange=createEvent(this,"medChange",7);this.medRiscada=createEvent(this,"medRiscada",7);this.medGalleryRequest=createEvent(this,"medGalleryRequest",7);this.alternativas=[];this.keyAlternativa="Alternativa";this.keyEnunciado="Enunciado";this.keyImagem="Imagem";this.keyPorcentagem="Porcentagem";this.keyRiscada="Riscada";this.permiteRiscar=true;this.permiteAlterar=true;this.riscarAtivoIndice=-1;this.baseClass=new MedAlternativasBase(this)}a.prototype.handleClick=function(a){this.baseClass.handleClick(a)};a.prototype.onAlternativasChanged=function(a,e){this.baseClass.onAlternativasChanged(a,e)};a.prototype.render=function(){var a=this;var e=this,t=e.dsColor,r=e.permiteRiscar,i=e.mostraResposta,s=e.alternativaSelecionada;var n=this.alternativaSelecionada&&i;return h(Host,{"from-stencil":true,class:generateMedColor(t,{"med-alternativas":true})},h("div",{class:"med-alternativas__list",role:"list"},this.alternativas.map((function(e,t){return h("div",{role:"listitem",onTouchStart:function(e){return a.baseClass.onTouchStart(e,t)},onTouchEnd:function(t){return a.baseClass.onTouchEnd(t,e)},onMouseDown:function(e){return a.baseClass.onTouchStart(e,t)},onMouseUp:function(t){return a.baseClass.onTouchEnd(t,e)},class:"\n                med-alternativas__item med-alternativas__item--"+e[a.keyAlternativa]+"\n                "+(r?"med-alternativas__item--permite-riscar":"")+"\n                "+(e[a.keyRiscada]&&r?"med-alternativas__item--riscado":"")+"\n                "+(n&&e[a.keyAlternativa]===a.respostaCorreta&&a.respostaCorreta===a.alternativaSelecionada?"med-alternativas__item--correta":"")+"\n                "+(n&&e[a.keyAlternativa]===a.respostaCorreta&&a.respostaCorreta!==a.alternativaSelecionada?"med-alternativas__item--certa":"")+"\n                "+(n&&e[a.keyAlternativa]!==a.respostaCorreta&&e[a.keyAlternativa]===a.alternativaSelecionada?"med-alternativas__item--incorreta":"")+"\n                "+(!n&&e[a.keyAlternativa]===a.alternativaSelecionada?"med-alternativas__item--selecionada":"")+"\n              "},h("div",{class:"med-alternativas__wrapper"},h("div",{class:"med-alternativas__container"},h("div",{class:"med-alternativas__left"},e[a.keyAlternativa]),h("div",{class:"med-alternativas__right",innerHTML:e[a.keyEnunciado]},e[a.keyImagem]&&h("div",{class:"image-container "+(e[a.keyEnunciado]?"image-container--margin":""),onClick:function(t){return a.baseClass.imageRequest(t,e)}},h("div",{class:"image-container__wrapper"},h("img",{class:"image-container__image",src:e[a.keyImagem]}),h("div",{class:"image-container__button"},h("ion-icon",{class:"med-icon image-container__icon",name:"med-busca"}))))),h("div",{class:"med-alternativas__riscar "+(t===a.riscarAtivoIndice&&r?"med-alternativas__riscar--show":""),onClick:function(t){return a.baseClass.riscar(t,e)}},(e[a.keyRiscada]?"Retomar":"Riscar")+" alternativa"))),h("med-chart-bar-horizontal",{label:true,class:"\n                med-alternativas__progress-bar\n                "+(i&&s?"med-alternativas__progress-bar--toggle":"")+"\n              ",value:Math.round(e[a.keyPorcentagem]*100)}))}))))};Object.defineProperty(a.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(a,"watchers",{get:function(){return{alternativas:["onAlternativasChanged"]}},enumerable:false,configurable:true});return a}();MedAlternativasB.style=medAlternativasBCss;export{MedAlternativasA as med_alternativas_a,MedAlternativasB as med_alternativas_b};