import{__awaiter,__generator,__spreadArray}from"tslib";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */import{r as registerInstance,h,H as Host,f as getElement}from"./index-27668d5b.js";import{g as generateMedColor}from"./color-f9402468.js";import{c as createAnimation}from"./animation-dde8cc0d.js";import"./index-a5d50daf.js";import"./helpers-ae653409.js";var medAccordionListCss=":host{--background:hsl(var(--med-color-neutral-1));--border:8px solid hsl(var(--med-color-neutral-1));--border-radius:8px}:host(.med-accordion-list){display:block}:host(.med-accordion-list) .med-accordion-list__blocker{background-color:var(--background);will-change:transform;border-radius:var(--border-radius)}:host(.med-accordion-list) ::slotted(med-accordion-item){border-bottom:var(--border)}:host(.med-accordion-list) ::slotted(med-accordion-item:last-child){border-bottom:none !important}:host(.med-accordion-list--xs) ::slotted(med-accordion-item){--border:4px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--sm) ::slotted(med-accordion-item){--border:8px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--md) ::slotted(med-accordion-item){--border:16px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--lg) ::slotted(med-accordion-item){--border:24px solid hsl(var(--med-color-neutral-1))}:host(.med-accordion-list--no-border) .med-accordion-list__blocker{--border-radius:0}";var Accordion=function(){function r(r){registerInstance(this,r);this.currentlyOpen=null;this.margin=undefined;this.singleOpen=true;this.noBorder=false;this.noAnimation=false}r.prototype.handleToggle=function(r){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:if(!r.detail.shouldOpen)return[3,2];return[4,this.animateOpen(r)];case 1:t=e.sent();return[3,4];case 2:return[4,this.animateClose(r)];case 3:t=e.sent();e.label=4;case 4:t;r.detail.endTransition();return[2]}}))}))};r.prototype.closeOpenItem=function(){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(t){switch(t.label){case 0:if(!(this.currentlyOpen!==null))return[3,2];r=this.currentlyOpen.detail;r.startTransition();return[4,this.animateClose(this.currentlyOpen)];case 1:t.sent();r.endTransition();r.setClosed();t.label=2;case 2:return[2]}}))}))};r.prototype.getElementsToShift=function(r){var t=Array.from(this.hostElement.children);var e=0;t.forEach((function(t,o){if(t===r){e=o}}));return __spreadArray([],t,true).splice(e+1,t.length-(e+1))};r.prototype.createOpenAnimation=function(r,t,e){var o=this.noAnimation?0:300;var i={transform:"translateY(-".concat(t,"px)"),position:"relative","z-index":"1"};var n={transform:"none","z-index":null};if(e){i["height"]="".concat(t,"px");n["height"]="0px"}var s=createAnimation().addElement(r).delay(20).beforeStyles(i).afterClearStyles(["position","z-index"]).afterStyles(n).to("transform","translateY(0)").duration(o).easing("cubic-bezier(0.32,0.72,0,1)");return s};r.prototype.animateOpen=function(r){return __awaiter(this,void 0,void 0,(function(){var t,e,o,i;return __generator(this,(function(n){switch(n.label){case 0:if(!this.singleOpen)return[3,2];return[4,this.closeOpenItem()];case 1:n.sent();n.label=2;case 2:this.currentlyOpen=r;t=this.getElementsToShift(r.detail.element);r.detail.content.style.display="block";r.detail.header.style.borderBottomLeftRadius="0";r.detail.header.style.borderBottomRightRadius="0";e=r.detail.content.clientHeight;o=this.createOpenAnimation(t,e,false);i=this.createOpenAnimation(this.blocker,e,true);return[4,Promise.all([o.play(),i.play()])];case 3:n.sent();o.destroy();i.destroy();return[2]}}))}))};r.prototype.createCloseAnimation=function(r,t){var e=this.noAnimation?0:300;return createAnimation().addElement(r).afterStyles({transform:"none",zIndex:"0"}).to("transform","translateY(-".concat(t,"px)")).duration(e).easing("cubic-bezier(0.32,0.72,0,1)")};r.prototype.animateClose=function(r){return __awaiter(this,void 0,void 0,(function(){var t,e,o,i,n;return __generator(this,(function(s){switch(s.label){case 0:t=this.getElementsToShift(r.detail.element);r.detail.header.style="";r.detail.element.style.overflow="hidden";r.detail.header.style.zIndex="1";this.currentlyOpen=null;e=r.detail.content.clientHeight;o=this.createCloseAnimation(t,e);i=this.createCloseAnimation(this.blocker,e);n=this.createCloseAnimation(r.detail.content,e);return[4,Promise.all([o.play(),i.play(),n.play()])];case 1:s.sent();r.detail.element.style.overflow="initial";r.detail.header.style.zIndex="initial";r.detail.content.style.display="none";o.destroy();i.destroy();n.destroy();return[2]}}))}))};r.prototype.render=function(){var r;var t=this;var e=this,o=e.noBorder,i=e.margin;return h(Host,{"from-stencil":true,class:generateMedColor(null,(r={"med-accordion-list":true,"med-accordion-list--no-border":o},r["med-accordion-list--".concat(i)]=i!==undefined,r))},h("slot",null),h("div",{class:"med-accordion-list__blocker",ref:function(r){return t.blocker=r}}))};Object.defineProperty(r.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:false,configurable:true});return r}();Accordion.style=medAccordionListCss;export{Accordion as med_accordion_list};