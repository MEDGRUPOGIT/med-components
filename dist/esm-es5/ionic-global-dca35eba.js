/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
import{g as getMode,c as setMode}from"./index-336c66d9.js";import{s as setupPlatforms,i as isPlatform}from"./platform-1ec8424a.js";var Config=function(){function e(){this.m=new Map}e.prototype.reset=function(e){this.m=new Map(Object.entries(e))};e.prototype.get=function(e,t){var n=this.m.get(e);return n!==undefined?n:t};e.prototype.getBoolean=function(e,t){if(t===void 0){t=false}var n=this.m.get(e);if(n===undefined){return t}if(typeof n==="string"){return n==="true"}return!!n};e.prototype.getNumber=function(e,t){var n=parseFloat(this.m.get(e));return isNaN(n)?t!==undefined?t:NaN:n};e.prototype.set=function(e,t){this.m.set(e,t)};return e}();var config=new Config;var configFromSession=function(e){try{var t=e.sessionStorage.getItem(IONIC_SESSION_KEY);return t!==null?JSON.parse(t):{}}catch(n){return{}}};var saveConfig=function(e,t){try{e.sessionStorage.setItem(IONIC_SESSION_KEY,JSON.stringify(t))}catch(n){return}};var configFromURL=function(e){var t={};e.location.search.slice(1).split("&").map((function(e){return e.split("=")})).map((function(e){var t=e[0],n=e[1];return[decodeURIComponent(t),decodeURIComponent(n)]})).filter((function(e){var t=e[0];return startsWith(t,IONIC_PREFIX)})).map((function(e){var t=e[0],n=e[1];return[t.slice(IONIC_PREFIX.length),n]})).forEach((function(e){var n=e[0],o=e[1];t[n]=o}));return t};var startsWith=function(e,t){return e.substr(0,t.length)===t};var IONIC_PREFIX="ionic:";var IONIC_SESSION_KEY="ionic-persist-config";var defaultMode;var getIonMode=function(e){return e&&getMode(e)||defaultMode};var initialize=function(e){if(e===void 0){e={}}if(typeof window==="undefined"){return}var t=window.document;var n=window;var o=n.Ionic=n.Ionic||{};setupPlatforms(n);var i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},configFromSession(n)),{persistConfig:false}),o.config),configFromURL(n)),e);config.reset(i);if(config.getBoolean("persistConfig")){saveConfig(n,i)}o.config=config;o.mode=defaultMode=config.get("mode",t.documentElement.getAttribute("mode")||(isPlatform(n,"ios")?"ios":"md"));config.set("mode",defaultMode);t.documentElement.setAttribute("mode",defaultMode);t.documentElement.classList.add(defaultMode);if(config.getBoolean("_testing")){config.set("animated",false)}var r=function(e){return e.tagName&&e.tagName.startsWith("ION-")};var a=function(e){return["ios","md"].includes(e)};setMode((function(e){while(e){var t=e.mode||e.getAttribute("mode");if(t){if(a(t)){return t}else if(r(e)){console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}}e=e.parentElement}return defaultMode}))};export{config as c,getIonMode as g,initialize as i};